<div><%=link_to 'Create Trail', new_trail_path%></div>


<% if @found_trails_or_tags != [] && !@found_trails_or_tags.nil? %>
  <h1>Search Results:</h1>
  
	<% @found_trails_or_tags.each do |found_trail_or_tag| %>
			<% if found_trail_or_tag.respond_to?(:name) %>
	 			<span><%= link_to "#{found_trail_or_tag.name}", trail_path(found_trail_or_tag), class: 'link'  %><br></span>
	 		<% else %>
	 			<%found_trail_or_tag.respond_to?(:subject) %>
	 			<h2><%= "#{found_trail_or_tag.subject}" %> (Tag) Trails:</h2>
	 				<% found_trail_or_tag.trails.each do |trail| %>
	 			<span><%= link_to "#{trail.name}", trail_path(found_trail_or_tag), class: 'link'  %><br></span>
	 				<% end %>	 			
	 			<% end %>
		<% end %>
	<% end %>

<h1>Trails Near You:</h1>
<% @trails.each do |trail| %>
	<span><%= link_to "#{trail.name}", trail_path(trail), class: 'link'  %><br></span>
	<% end %>



<br><div><%=link_to 'Create Trail', new_trail_path%></div>		


<h4>Explore </h4>

<%@trails.each do |t|%>
  <%=link_to t.name, t%> by <%=link_to t.creator.username, t.creator%><br>
  <%=t.description%>
  <%if t.tags%>
  <br>Tags:
    <%t.tags.each do |tag|%>
      <%=link_to tag.subject, tag%>
    <%end%>
  <br>
  <%end%>
  <br>
  <br>
<%end%>

<%= link_to_previous_page @trails, 'Previous' %>
<%= paginate @trails, :window => 1, :remote => true %>
<%= link_to_next_page @trails, 'Next' %>
